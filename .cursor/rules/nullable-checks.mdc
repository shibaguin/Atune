---
description: Проверки Nullable
globs: 
---
1. **Обязательные проверки**:
   ```csharp
   // Проверка перед использованием
   if (variable is null)
   {
       throw new ArgumentNullException(nameof(variable));
   }

   // Современный синтаксис
   ArgumentNullException.ThrowIfNull(variable);
   ```

2. **Статические анализаторы**:
   - Включай предупреждения для nullable типов:
   ```xml
   <PropertyGroup>
     <Nullable>enable</Nullable>
     <WarningsAsErrors>nullable</WarningsAsErrors>
   </PropertyGroup>
   ```

3. **Паттерны обработки**:
   ```csharp
   // Для nullable строк
   if (string.IsNullOrEmpty(text)) 
   {
       return "default";
   }

   // Для коллекций
   if (collection?.Any() != true)
   {
       return Array.Empty<Item>();
   }
   ```

4. **Специфика проекта**:
   - В Android-коде используй null-проверки для Context
   - В Avalonia-компонентах проверяй DataContext перед использованием
   - Для DTO-моделей используй required свойства:
   ```csharp
   public required string Title { get; set; }
   ```

5. **Использование операторов**:
   - `?.` для безопасного доступа
   - `??` для значений по умолчанию
   - `!` только когда уверен в non-null значении